define("bitbucket/internal/feature/settings/hooks/reducers/ui","module exports @atlassian/aui lodash bitbucket/internal/bbui/aui-react/flags bitbucket/internal/util/reducers ../actions".split(" "),function(r,m,l,g,k,t,f){Object.defineProperty(m,"__esModule",{value:!0});var e,p=function(b,a){a=a.payload.hook;return babelHelpers.extends({},b,{busyHooks:(0,g.without)(b.busyHooks,a.details.key)})},n=function(b,a){a=a.payload.hook;return babelHelpers.extends({},b,{busyHooks:(0,g.without)(b.busyHooks,a.details.key),
editingHook:void 0})},q=function(b,a){a=a.payload.hook;return babelHelpers.extends({},b,{busyHooks:(0,g.without)(b.busyHooks,a.details.key)})},h=function(b,a){var c=a.close,d=a.type;d=void 0===d?k.flagType.ERROR:d;return{notifications:b.notifications.concat({body:a.body,close:void 0===c?k.closeType.AUTO:c,id:a.hook.details.key+"-"+Date.now(),type:d})}},u=function(b,a){return{notifications:b.notifications.filter(function(b){return b.id!==a})}};m.default=(0,t.reduceByType)({busyHooks:[],loadingHookTypes:[],
notifications:[],editingHook:void 0},(e={},babelHelpers.defineProperty(e,f.ENABLE_HOOK,function(b,a){a=a.payload.hook;return babelHelpers.extends({},b,{busyHooks:(0,g.uniq)(b.busyHooks.concat(a.details.key))})}),babelHelpers.defineProperty(e,f.ENABLE_HOOK_SUCCESS,function(b,a){var c=a.payload.hook;return babelHelpers.extends({},p(b,a),h(b,{body:c.enabled?l.I18n.getText("bitbucket.web.hooks.enable.success",c.details.name):l.I18n.getText("bitbucket.web.hooks.disable.success",c.details.name),hook:c,
type:k.flagType.SUCCESS}))}),babelHelpers.defineProperty(e,f.ENABLE_HOOK_FAILURE,function(b,a){var c=a.payload,d=c.error;c=c.hook;return babelHelpers.extends({},p(b,a),h(b,{body:d,hook:c}))}),babelHelpers.defineProperty(e,f.EDIT_HOOK,function(b,a){a=a.payload.hook;return babelHelpers.extends({},b,{editingHook:{id:a.details.key},busyHooks:(0,g.uniq)(b.busyHooks.concat(a.details.key))})}),babelHelpers.defineProperty(e,f.EDIT_HOOK_CANCEL,n),babelHelpers.defineProperty(e,f.INHERIT_HOOK,function(b,a){a=
a.payload.hook;return babelHelpers.extends({},b,{busyHooks:(0,g.uniq)(b.busyHooks.concat(a.details.key))})}),babelHelpers.defineProperty(e,f.INHERIT_HOOK_FAILURE,function(b,a){var c=a.payload,d=c.error;c=c.hook;return babelHelpers.extends({},q(b,a),h(b,{body:d,hook:c}))}),babelHelpers.defineProperty(e,f.INHERIT_HOOK_SUCCESS,function(b,a){var c=a.payload.hook;return babelHelpers.extends({},q(b,a),h(b,{body:l.I18n.getText("bitbucket.web.hooks.inherit.success",c.details.name),hook:c,type:k.flagType.SUCCESS}))}),
babelHelpers.defineProperty(e,f.LOAD_HOOK_SETTINGS_FAILURE,function(b,a){var c=a.payload,d=c.error;c=c.hook;return babelHelpers.extends({},n(b,a),h(b,{body:d,hook:c}))}),babelHelpers.defineProperty(e,f.LOAD_HOOK_SETTINGS_SUCCESS,function(b,a){var c=a.payload;a=c.hook;c=c.config;var d=b.editingHook;return d&&d.id===a.details.key?babelHelpers.extends({},b,{editingHook:babelHelpers.extends({},d,{config:void 0===c?{}:c})}):b}),babelHelpers.defineProperty(e,f.LOAD_HOOKS,function(b,a){a=a.meta.type;return babelHelpers.extends({},
b,{loadingHookTypes:(0,g.uniq)(b.loadingHookTypes.concat(a))})}),babelHelpers.defineProperty(e,f.LOAD_HOOKS_SUCCESS,function(b,a){a=a.meta.type;return babelHelpers.extends({},b,{loadingHookTypes:(0,g.without)(b.loadingHookTypes,a)})}),babelHelpers.defineProperty(e,f.NOTIFICATION_DISMISSED,function(b,a){return babelHelpers.extends({},b,u(b,a.payload.id))}),babelHelpers.defineProperty(e,f.SAVE_HOOK_SETTINGS,function(b,a){a=a.payload;var c=a.hook,d=b.editingHook;return d&&d.id===c.details.key?babelHelpers.extends({},
b,{editingHook:babelHelpers.extends({},d,{config:a.config,saving:!0})}):b}),babelHelpers.defineProperty(e,f.SAVE_HOOK_SETTINGS_FAILURE,function(b,a){a=a.payload;var c=a.hook,d=b.editingHook;return d&&d.id===c.details.key?babelHelpers.extends({},b,{editingHook:babelHelpers.extends({},d,{errors:a.errors,saving:!1})}):b}),babelHelpers.defineProperty(e,f.SAVE_HOOK_SETTINGS_SUCCESS,function(b,a){var c=a.payload.hook;return babelHelpers.extends({},n(b,a),h(b,{body:l.I18n.getText("bitbucket.web.hooks.settings.saved",
c.details.name),hook:c,type:k.flagType.SUCCESS}))}),e));r.exports=m["default"]});
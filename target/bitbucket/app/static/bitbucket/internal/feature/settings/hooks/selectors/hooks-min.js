define("bitbucket/internal/feature/settings/hooks/selectors/hooks",["exports","lodash","reselect","bitbucket/util/navbuilder"],function(a,f,g,h){Object.defineProperty(a,"__esModule",{value:!0});a.getEditingHook=a.getAllHooksByType=a.getNotifications=a.getLoadingHookTypes=a.getHooks=a.getHookPagingByType=a.getEditingHookData=a.getBusyHookIds=void 0;var k=babelHelpers.interopRequireDefault(h),e=a.getBusyHookIds=function(b){return b.ui.busyHooks};h=a.getEditingHookData=function(b){return b.ui.editingHook};
var l=a.getHookPagingByType=function(b){return b.paging.hooks},m=a.getHooks=function(b){return b.entities.hooks},n=a.getLoadingHookTypes=function(b){return b.ui.loadingHookTypes};a.getNotifications=function(b){return b.ui.notifications};var p=function(b,a){return k.default.rest().hooks().hook(b).avatar(a).build()},q=function(b){if(!b||!b.length)return{};var a=[];b=b.reduce(function(b,c){var d=c.context;c=c.message;return d?babelHelpers.extends({},b,babelHelpers.defineProperty({},d,(0,f.get)(b,d,[]).concat(c))):
(a.push(c),b)},{});return{formErrors:a,fieldErrors:b}};e=(0,g.createSelector)([m,e],function(b,a){return(0,f.mapValues)(b,function(b,d){return babelHelpers.extends({},b,{busy:(0,f.includes)(a,d),avatarUrl:p(d,b.version)})})});a.getAllHooksByType=(0,g.createSelector)([e,l,n],function(b,a,e){return(0,f.mapValues)(a,function(a,d){var c=a.lastPageMeta,g=c.isLastPage;c=c.nextPageStart;return{hooks:a.ids.map(function(a){return b[a]}),isLastPage:g,nextPageStart:c,loading:(0,f.includes)(e,d)}})});a.getEditingHook=
(0,g.createSelector)([e,h],function(b,a){if(a&&a.id)return babelHelpers.extends({},a,{errors:q(a.errors),hook:b[a.id]})})});
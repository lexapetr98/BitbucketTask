define("bitbucket/internal/feature/admin/db/dbConfigFields",["module","exports","@atlassian/aui","jquery","lodash"],function(m,b,n,p,q){function r(c,d){var h=d.defaults;k.default.forEach(c.defaults,function(c,a){var e=(0,g.default)("#"+a);e.val()===c&&e.val(h[a]||"")})}Object.defineProperty(b,"__esModule",{value:!0});var c=babelHelpers.interopRequireDefault(n),g=babelHelpers.interopRequireDefault(p),k=babelHelpers.interopRequireDefault(q);b.default={onReady:function(b){var d=(0,g.default)("#type"),
h={};k.default.forEach(b,function(a){h[a.key]=a});var l=h[d.val()];d.on("change",function(){var a=h[(0,g.default)(this).val()],e=(0,g.default)("#database").closest(".field-group"),f=e.children("label"),b=f.children();e=e.children(".description");if(a.usesSid){var d=c.default.I18n.getText("bitbucket.web.admin.db.service.label");var k=c.default.I18n.getText("bitbucket.web.admin.db.service.description")}else d=c.default.I18n.getText("bitbucket.web.admin.db.database.label"),k=c.default.I18n.getText("bitbucket.web.admin.db.database.description");
f.text(d).append(b);e.text(k);r(l,a);f=(0,g.default)("#type").closest(".field-group");b=f.parent();f.find(".help-url").attr("href",a.helpUrl);f.find(".driver-unavailable").toggleClass("hidden",a.driverAvailable||!a.dcSupported);f.find(".not-clusterable").toggleClass("hidden",a.dcSupported).find(".not-clusterable-database").text(a.displayName);b.find("input").add((0,g.default)("#test,#submit")).toggleClass("disabled",!(a.dcSupported&&a.driverAvailable)).prop("disabled",!(a.dcSupported&&a.driverAvailable));
l=a})}};m.exports=b["default"]});
define("bitbucket/internal/feature/dashboard/components/pull-request-suggestion","module exports @atlassian/aui classnames react bitbucket/util/navbuilder bitbucket/internal/bbui/aui-react/spinner bitbucket/internal/util/analytics bitbucket/internal/util/time bitbucket/internal/widget/icons/icons ../components/suggestion-commits-table ./pull-request-suggestion-web-section".split(" "),function(m,d,b,n,v,w,q,x,p,y,z,A){Object.defineProperty(d,"__esModule",{value:!0});d.default=void 0;var B=babelHelpers.interopRequireDefault(n),
a=babelHelpers.interopRequireDefault(v),C=babelHelpers.interopRequireDefault(w),D=babelHelpers.interopRequireDefault(q),r=babelHelpers.interopRequireDefault(x),h={aMomentAgo:function(){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.a.moment.ago")},oneMinuteAgo:function(){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.one.minute.ago")},xMinutesAgo:function(a){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.x.minutes.ago",
a)},oneHourAgo:function(){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.one.hour.ago")},xHoursAgo:function(a){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.x.hours.ago",a)},oneDayAgo:function(){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.one.day.ago")},xDaysAgo:function(a){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.x.days.ago",
a)},oneWeekAgo:function(){return b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.updated.date.format.one.week.ago")}},E=function(a){a.target.classList.contains("recent-branch-name")&&r.default.add("dashboard.pullrequest-suggestion.branch-name.clicked")};d.default=function(e){var c=e.suggestion,d=e.onClick;e=e.webSections;var f=c.open;f=void 0===f?!1:f;var g=c.loading;g=void 0===g?!1:g;var k=c.commits;k=void 0===k?[]:k;var l=c.repository,t=l.project,u=C.default.project(t).repo(l),m=
aui.buttons.button({href:u.compare().sourceBranch(c.refChange.ref.id).build(),text:c.refChange.ref.displayId,type:"link",extraClasses:"recent-branch-name"}),n=bitbucket.internal.feature.repository.repositoryItemContent({repository:l});return a.default.createElement("div",{className:(0,B.default)("pull-request-suggestion",{"show-commit-details":f,"loading-commit-details":g})},a.default.createElement("table",{className:"suggestion-details"},a.default.createElement("tbody",null,a.default.createElement("tr",
null,a.default.createElement("td",{className:"table-expander-wrapper"},a.default.createElement("button",{className:"table-expander",onClick:function(a){a.preventDefault();d(c)}},a.default.createElement(y.ChevronRightIcon,null))),a.default.createElement("td",{className:"summary"},a.default.createElement("span",{className:"meta"},a.default.createElement("span",{className:"description",onClick:E,dangerouslySetInnerHTML:{__html:b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.activity.title",
m,n)},role:"presentation"}),a.default.createElement("time",{title:(0,p.format)(c.changeTime,"full",h),dateTime:(0,p.format)(c.changeTime,"timestamp",h)},(0,p.format)(c.changeTime,"shortAge",h)))),e.map(function(b){return a.default.createElement(A.WebSectionCell,{key:b.key,webSection:b,suggestion:c})}),a.default.createElement("td",{className:"create-pr"},a.default.createElement("a",{href:u.createPullRequest().sourceBranch(c.refChange.ref.id).build(),className:"aui-button",onClick:function(){var a=
c.changeTime;r.default.add("dashboard.pullrequest-suggestion.pullrequest-create.clicked",{pushAge:Date.now()-a})}},b.I18n.getText("bitbucket.web.dashboard.pullrequest.suggestions.create")))))),g?a.default.createElement(D.default,{size:q.SpinnerSize.MEDIUM}):a.default.createElement(z.SuggestionCommitsTable,{project:t,repository:l,commits:k,customTimeMapping:h,open:f}))};m.exports=d["default"]});
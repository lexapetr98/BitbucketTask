define("bitbucket/internal/feature/commit/difftree/difftree-search-input","module exports @atlassian/aui baconjs jquery lodash bitbucket/internal/util/events bitbucket/internal/util/function".split(" "),function(k,b,c,l,m,n,p,q){function e(b){this.$el=(0,r.default)(bitbucket.internal.feature.difftree.searchInput(b));this._destroyables=[];var d=this.$el.find("input"),a=this.$el.find(".delete-button");this._destroyables.push(f.default.chainWith(a).on("click",function(a){a.preventDefault();d.val("").trigger("input")}));
this._destroyables.push(f.default.chainWith(d).on("input",function(b){a.toggle(!!this.value)}))}Object.defineProperty(b,"__esModule",{value:!0});var g=babelHelpers.interopRequireDefault(c);c=babelHelpers.interopRequireDefault(l);var r=babelHelpers.interopRequireDefault(m),t=babelHelpers.interopRequireDefault(n),f=babelHelpers.interopRequireDefault(p),h=babelHelpers.interopRequireDefault(q);c.default;e.prototype.getInputs=function(){var b=this.$el.find(".delete-button").asEventStream("click"),d=this.$el.find("input").asEventStream("keyup"),
a=h.default.dotEq.bind(null,"keyCode"),c=d.filter(a(g.default.keyCode.ESCAPE));a=a(g.default.keyCode.ENTER);return d.filter(a).merge(c).doAction(".preventDefault").doAction(".currentTarget.blur").filter(a).flatMap(function(a){return a.target.value}).merge(b.map(h.default.constant(""))).skipDuplicates()};e.prototype.destroy=function(){t.default.invokeMap(this._destroyables,"destroy")};b.default=e;k.exports=b["default"]});
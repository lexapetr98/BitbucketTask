@import "../../../../../global.less";

.jstree.file-tree {
    > ul {
        margin: @baseSpacing 0;

        a {
            color: black;
            cursor: pointer;
        }
    }
}

/*
 * jsTree default theme 1.0
 * Supported features: dots/no-dots, icons/no-icons, focused, loading
 * Supported plugins: ui (hovered, clicked), checkbox, contextmenu, search
 */

//Plugin styles
.jstree {
    .jstree-hovered {
        background: @ak-color-N30;
    }

    .jstree-clicked {
        background: @primaryActiveColor;
    }

    a > .jstree-icon.aui-icon {
        color: @aui-iconfont-color;
        margin-right: 5px;
    }

    a.jstree-loading .jstree-icon {
        background: url(images/throbber.gif) center center no-repeat !important;
    }

    .jstree-open > ins,
    .jstree-closed > ins {
        vertical-align: middle;
        padding-left: 8px;

        &:after {
            .dropdown-arrow();
            position: relative;
        }
    }

    .jstree-open > ins {
        transform: rotate(0deg);

        &:after {
            right: 0;
            top: 0;
        }
    }

    .jstree-closed > ins {
        transform: rotate(-90deg);
    }

    .jstree-no-icons a .jstree-icon {
        display:none;
    }

    .aui-iconfont-warning:before {
        color: @ak-color-Y500;
    }

    .jstree-search {
        font-style:italic;
    }

    .jstree-no-icons .jstree-checkbox {
        display:inline-block;
    }

    .jstree-no-checkboxes .jstree-checkbox {
        display:none !important;
    }

    .jstree-checked > a > .jstree-checkbox {
        background-position:-38px -19px;
    }

    .jstree-unchecked > a > .jstree-checkbox {
        background-position:-2px -19px;
    }

    .jstree-undetermined > a > .jstree-checkbox {
        background-position:-20px -19px;
    }

    .jstree-checked > a > .jstree-checkbox:hover {
        background-position:-38px -37px;
    }

    .jstree-unchecked > a > .jstree-checkbox:hover {
        background-position:-2px -37px;
    }

    .jstree-undetermined > a > .jstree-checkbox:hover {
        background-position:-20px -37px;
    }

    a.jstree-search {
        color:aqua;
    }

    .jstree-locked a {
        color:silver; cursor:default;
    }

    &#jstree-marker {
        background:url("images/d.png") -41px -57px no-repeat !important;
        text-indent:-100px;
    }
}

// Bitbucket overrides and theming
.bitbucket-theme {
    .jstree {
        .change-type-ADD {
            color: @ak-color-G400;
        }
        .change-type-DELETE {
            color: @ak-color-R400;
            text-decoration: line-through;
        }
        .change-type-MODIFY {
            color: #3572B0;
        }
        .change-type-MOVE,
        .change-type-COPY {
            color: @ak-color-Y500;
        }

        a {
            padding: @halfSpacing;
            margin-right: 1em;
            .border-radius(3px);
            .transition(background-color 0.2s);

            &:hover {
                text-decoration: none;
            }

            > .jstree-icon.icon-file-commented {
                .web-resource-background-image('icons', 'icons/icon-file-commented.svg');
            }
        }
    }
}

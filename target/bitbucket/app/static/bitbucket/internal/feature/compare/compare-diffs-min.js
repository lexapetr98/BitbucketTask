define("bitbucket/internal/feature/compare/compare-diffs","module exports jquery bitbucket/util/navbuilder bitbucket/internal/feature/comments/comments bitbucket/internal/feature/commit/tree-and-diff-view/tree-and-diff-view bitbucket/internal/feature/file-content/diff-view-type bitbucket/internal/layout/page-scrolling-manager bitbucket/internal/model/commit-range bitbucket/internal/model/diff-type bitbucket/internal/model/revision bitbucket/internal/util/bacon".split(" "),function(g,c,h,m,n,p,q,r,
t,u,v,w){function f(a,d,e){var b=a.toJSON?a.toJSON():a;a=b.untilRevision;b=b.sinceRevision;return x.default.rest().project(b.repository.project.key).repo(b.repository.slug).compare()[d](e).from(a.id).fromRepo(a.repository.id).to(b.id)}function y(a,d,e){return f(e,"changes").withParams({start:a,limit:d})}function z(a){a=a.toJSON?a.toJSON():a;return f(a.commitRange,"diff",a)}function k(a){return new A.default({id:a.getLatestCommit(),repository:a.getRepository()})}Object.defineProperty(c,"__esModule",
{value:!0});c.default=function(a,d){var e=B.default.events("bitbucket.internal.widget.keyboard-shortcuts.register-contexts");return function(b,c){var f=(0,C.default)(bitbucket.internal.feature.compare.diff({diffTreeHeaderWebItems:a}));c.append(f);l.default.init(new D.default({untilRevision:k(b.getSourceBranch()),sinceRevision:k(b.getTargetBranch()),diffType:E.default.RANGE}),{changesUrlBuilder:y,diffUrlBuilder:z,commentMode:F.default.commentMode.NONE,maxChanges:d,numberOfParents:0,toolbarWebFragmentLocationPrimary:"bitbucket.commit.diff.toolbar.primary",
toolbarWebFragmentLocationSecondary:"bitbucket.commit.diff.toolbar.secondary",diffViewType:G.default.COMMON_ANCESTOR});var g=H.default.acceptScrollForwardingRequests(),h=e.onValue(function(a){a.enableContext("diff-view");a.enableContext("diff-tree")});return function(){h();l.default.reset();g()}}};var C=babelHelpers.interopRequireDefault(h),x=babelHelpers.interopRequireDefault(m),F=babelHelpers.interopRequireDefault(n),l=babelHelpers.interopRequireDefault(p),G=babelHelpers.interopRequireDefault(q),
H=babelHelpers.interopRequireDefault(r),D=babelHelpers.interopRequireDefault(t),E=babelHelpers.interopRequireDefault(u),A=babelHelpers.interopRequireDefault(v),B=babelHelpers.interopRequireDefault(w);g.exports=c["default"]});
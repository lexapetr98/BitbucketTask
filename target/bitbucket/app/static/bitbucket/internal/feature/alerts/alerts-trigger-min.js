define("bitbucket/internal/feature/alerts/alerts-trigger","module exports @atlassian/aui classnames lodash ./selectors".split(" "),function(h,b,d,k,l,e){Object.defineProperty(b,"__esModule",{value:!0});var m=babelHelpers.interopRequireDefault(d),f=babelHelpers.interopRequireDefault(k),g=function(c){return(0,l.get)(c,"0.type")};d=function(){function c(a,b){babelHelpers.classCallCheck(this,c);this.$el=a;this.stateStore=b;this.stateStore.subscribe(this.maybeUpdate.bind(this));this.render(this.getAlerts())}
babelHelpers.createClass(c,[{key:"getAlerts",value:function(){return(0,e.alertsBySeverity)(this.stateStore.getState())}},{key:"maybeUpdate",value:function(){var a=this.getAlerts();this.alertCount===a.length&&this.mostSevere===g(a)||this.render(a)}},{key:"render",value:function(a){this.alertCount=a.length;this.mostSevere=g(a);if(!a||0===a.length)return this.$el.attr("class",(0,f.default)("alerts-menu",{hidden:!(0,e.dialogOpen)(this.stateStore.getState())})),this.$el.html(bitbucket.internal.feature.alerts.emptyTrigger());
a=m.default.I18n.getText("bitbucket.web.alerts.title");this.$el.attr("class",(0,f.default)("alerts-menu",this.mostSevere));this.$el.html(bitbucket.internal.feature.alerts.trigger({count:this.alertCount,mostSevereType:this.mostSevere,title:a}))}}]);return c}();b.default=d;h.exports=b["default"]});
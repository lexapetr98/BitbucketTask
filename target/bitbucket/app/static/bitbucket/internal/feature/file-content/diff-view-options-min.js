define("bitbucket/internal/feature/file-content/diff-view-options","module exports jquery lodash bitbucket/internal/util/client-storage bitbucket/internal/util/events".split(" "),function(p,g,q,r,t,u){function b(){}Object.defineProperty(g,"__esModule",{value:!0});var m=babelHelpers.interopRequireDefault(q),h=babelHelpers.interopRequireDefault(r),k=babelHelpers.interopRequireDefault(t),l=babelHelpers.interopRequireDefault(u),n=h.default.once(function(){return k.default.buildKey(["diff-view","options"],
"user")});l.default.addLocalEventMixin(b.prototype);b.prototype.getOptions=h.default.memoize(function(){return h.default.assign({},this.defaults,k.default.getItem(n()))});b.prototype.getOverrides=function(){return null};b.prototype.defaults={ignoreWhitespace:!1,showWhitespaceCharacters:!1,hideComments:!1,hideEdiff:!1,diffType:"unified"};b.prototype.triggerUpdate=function(c,e){c={key:c,value:e};this.trigger("change",c);l.default.trigger("bitbucket.internal.feature.fileContent.optionsChanged",null,
c)};b.prototype.set=function(c,e,b){this.getOptions()[c]=e;k.default.setItem(n(),this.getOptions());!1!==b&&this.triggerUpdate(c,e)};b.prototype.get=function(c){return this.getOptions()[c]};b.prototype.proxy=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=this,d=new b;d.getOptions=function(){return m.default.extend({},f.getOptions(),e,c)};d.getOverrides=function(){return m.default.extend({},f.getOverrides(),c)};
d.set=function(a,b,d){void 0===c[a]&&(delete e[a],f.set(a,b,d))};d.setOverride=function(a,b,e){var d=this;if(void 0!==c[a])throw Error("Cannot double-set overrides");c[a]=b;!1!==e&&this.triggerUpdate(a,b);return function(){delete c[a];!1!==e&&d.triggerUpdate(a,void 0)}};d.setSoftOverride=function(a,b,d){var f=this;if(void 0!==c[a]||void 0!==e[a])throw Error("Cannot double-set soft overrides");e[a]=b;!1!==d&&this.triggerUpdate(a,b);return function(){a in e&&void 0===c[a]&&(delete e[a],!1!==d&&f.triggerUpdate(a,
void 0))}};d.destroy=l.default.chainWith(f).on("change",function(a){void 0===c[a.key]&&d.trigger("change",a)}).destroy;return d};g.default=(new b).proxy();p.exports=g["default"]});
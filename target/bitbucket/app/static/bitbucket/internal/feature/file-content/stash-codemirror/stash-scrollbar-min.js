define("bitbucket/internal/feature/file-content/stash-codemirror/stash-scrollbar",["codemirror","jquery","lodash","bitbucket/internal/util/navigator"],function(d,k,l,m){function f(d){function b(a,b,c){this._cm=c;this._scroll=b;g.default.bindAll(this,"clear","onScroll");this.$barEl=(0,h.default)(bitbucket.internal.feature.fileContent.codemirror.scrollbar({isMac:(0,m.isMac)(),fixed:d.fixed}));this.$innerEl=this.$barEl.find("div");d.fixed?((0,h.default)("body").append(this.$barEl),c.getOption("stashDestroyables").push({destroy:this.clear})):
a(this.$barEl[0]);this.$barEl.on("scroll",this.onScroll)}b.prototype.clear=function(){this.$barEl.remove()};b.prototype.onScroll=function(){var a=this.$barEl[0];a.clientWidth&&this._scroll(a.scrollLeft,"horizontal")};b.prototype.setScrollLeft=function(a){this.$barEl.scrollLeft()!==a&&this.$barEl.scrollLeft(a)};b.prototype.setScrollTop=function(a){};b.prototype.update=function(a){if(g.default.isEqual(a,this.lastMeasure))return this.lastUpdateResult;this.lastMeasure=a;var b=a.scrollWidth>a.clientWidth+
1,c={},e={};b?(c.display="block",c.width=a.viewWidth+"px",d.fixed?c.left=this._cm.getWrapperElement().getBoundingClientRect().left+"px":c.right="0",e.width=a.scrollWidth-a.clientWidth+a.viewWidth+"px"):(c.display="",e.width="0");this.$barEl.css(c);this.$innerEl.css(e);return this.lastUpdateResult={right:0,bottom:b?a.nativeBarWidth:0}};return b}d=babelHelpers.interopRequireDefault(d);var h=babelHelpers.interopRequireDefault(k),g=babelHelpers.interopRequireDefault(l);d.default.scrollbarModel["stash-inline"]=
f({fixed:!1});d.default.scrollbarModel["stash-fixed"]=f({fixed:!0})});
define("bitbucket/internal/feature/file-content/request-change","exports bitbucket/util/navbuilder bitbucket/internal/model/commit-range bitbucket/internal/model/revision bitbucket/internal/util/ajax bitbucket/internal/util/cache".split(" "),function(b,q,r,t,u,l){function e(a){var b=a.pullRequest,e=a.start,g=a.limit,h=m.default.rest().currentRepo().pullRequest(b).changes().withParams({start:e,limit:g}),d=h.withParams({changeScope:"unreviewed"}).build();if(c.has(d))return c.get(d);var f=k.default.rest({url:d,
statusCode:k.default.ignore404WithinRepository()}).fail(function(){c.clear(d)});f.done(function(a){if(a.properties&&a.properties.changeScope&&"ALL"===a.properties.changeScope){var d=h.withParams({pullRequestId:b.id}).build();c.set(d,f,l.Persist.ONCE)}a=m.default.rest().currentRepo().changes(new v.default({untilRevision:new n.default({id:a.toHash}),sinceRevision:new n.default({id:a.fromHash})})).withParams({start:e,limit:g,pullRequestId:b.id}).build();c.set(a,f)});c.set(d,f);return f}function g(a){if(c.has(a))return c.get(a);
var b=k.default.rest({url:a,statusCode:k.default.ignore404WithinRepository()}).fail(function(){c.clear(a)});c.set(a,b);return b}function h(){c.clear()}function p(a){c.clear(a)}Object.defineProperty(b,"__esModule",{value:!0});b.getUnreviewedChangesRequest=e;b.getChangesRequestFromUrl=g;b.reset=h;b.invalidateCacheForUrl=p;var m=babelHelpers.interopRequireDefault(q),v=babelHelpers.interopRequireDefault(r),n=babelHelpers.interopRequireDefault(t),k=babelHelpers.interopRequireDefault(u),c=new (babelHelpers.interopRequireDefault(l).default);
b.default={getUnreviewedChangesRequest:e,getChangesRequestFromUrl:g,reset:h,invalidateCacheForUrl:p}});
define("bitbucket/internal/feature/pull-request/commits/pull-request-commits","module exports @atlassian/aui jquery lodash bitbucket/util/navbuilder bitbucket/internal/feature/commits/commits-table bitbucket/internal/util/dom-event bitbucket/internal/util/events bitbucket/internal/util/history".split(" "),function(k,b,l,m,n,p,q,r,t,u){function v(){return w.default.currentRepo().pullRequest(g).commits()}Object.defineProperty(b,"__esModule",{value:!0});var x=babelHelpers.interopRequireDefault(l),d=
babelHelpers.interopRequireDefault(m),y=babelHelpers.interopRequireDefault(n),w=babelHelpers.interopRequireDefault(p),z=babelHelpers.interopRequireDefault(q),A=babelHelpers.interopRequireDefault(r),h=babelHelpers.interopRequireDefault(t),B=babelHelpers.interopRequireDefault(u),f=void 0,g=void 0,a=void 0;b.default={init:function(c){f=[];g=c.pullRequest.getId();var e=(0,d.default)(bitbucket.internal.feature.pullRequest.commits({repository:c.repository.toJSON(),commitsTableWebSections:c.commitsTableWebSections})),
b=(0,d.default)("\x3cdiv /\x3e").append(e);a=new z.default(v,{target:e,webSections:c.commitsTableWebSections,allCommitsFetchedMessage:x.default.I18n.getText("bitbucket.web.pullrequest.allcommitsfetched"),focusFirstRow:!0});(0,d.default)(c.el).append(a.$spinner);e=a.init({suspended:!0}).done(function(){(0,d.default)(c.el).prepend(b.children());a.resume();a.bindKeyboardShortcuts()});f.push(h.default.chainWith((0,d.default)(document)).on("click",".commits-table a.commitid",function(a){var b=(0,d.default)(a.target).closest("tr").attr("data-commit-json");
h.default.trigger("bitbucket.internal.feature.pullRequest.commit.open",this,{commitJSON:b?JSON.parse(b):null,pullRequest:c.pullRequest});b&&A.default.openInSameTab(a)&&(B.default.pushState({commit:JSON.parse(b)},null,a.target.href),a.preventDefault())}));return e},reset:function(){y.default.invokeMap(f,"destroy");a.destroy();a=null}};k.exports=b["default"]});
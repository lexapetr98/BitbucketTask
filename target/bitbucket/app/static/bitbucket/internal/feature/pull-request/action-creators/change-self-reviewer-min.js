define("bitbucket/internal/feature/pull-request/action-creators/change-self-reviewer","module exports bitbucket/util/events bitbucket/util/navbuilder bitbucket/util/server bitbucket/internal/bbui/actions/pull-request bitbucket/internal/enums bitbucket/internal/model/pull-request-json bitbucket/internal/util/analytics".split(" "),function(g,a,k,l,m,n,p,q,r){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(b,d,c,a){var e="ADD_SELF"===c,f=b.toRef.repository,g=f.project;f=t.default.rest({type:e?
"POST":"DELETE",url:u.default.rest().project(g).repo(f).pullRequest(b).participants(e?null:d).build(),data:e?{user:d,role:"reviewer"}:null}).done(function(){v.default.trigger(e?"bitbucket.internal.feature.pullRequest.self.added":"bitbucket.internal.feature.pullRequest.self.removed",null,{action:c,user:d,pullRequest:(0,q.filter)(b)});w.default.add("pullRequest."+(c===h.default.SelfAction.ADD_SELF?"addSelf":"removeSelf"),{userStatus:a||h.default.ApprovalStatus.UNAPPROVED,"pullRequest.fromRef.repository.id":b.fromRef.repository.id,
"pullRequest.id":b.id,"pullRequest.toRef.repository.id":b.toRef.repository.id},!0)});return{type:n.PR_CHANGE_SELF_REVIEWER,payload:{pullRequest:b,user:d,selfAction:c},meta:{promise:f.then(function(a){return{pullRequest:b,user:a?a.user:null,selfAction:c}})}}};var v=babelHelpers.interopRequireDefault(k),u=babelHelpers.interopRequireDefault(l),t=babelHelpers.interopRequireDefault(m),h=babelHelpers.interopRequireDefault(p),w=babelHelpers.interopRequireDefault(r);g.exports=a["default"]});
define("bitbucket/internal/feature/pull-request/action-creators/watch","module exports @atlassian/aui jquery lodash bitbucket/util/navbuilder bitbucket/util/server bitbucket/internal/bbui/actions/pull-request bitbucket/internal/model/page-state bitbucket/internal/util/events".split(" "),function(d,c,h,k,l,m,n,p,q,r){Object.defineProperty(c,"__esModule",{value:!0});c.default=function(a){a=e.default.assign({},t,a);if(a.stateOnly)var b=u.default.Deferred().resolve();else b=v.default.rest().currentPullRequest().watch().build(),
b=w.default.rest({url:b,type:a.watchState?"POST":"DELETE",statusCode:{401:function(a,b,c,d,f){return e.default.assign({},f,{title:g.default.I18n.getText("bitbucket.web.watch.default.error.401.title"),message:g.default.I18n.getText("bitbucket.web.watch.default.error.401.message"),fallbackUrl:!1,shouldReload:!0})},409:function(a,b,c,d,f){return e.default.assign({},f,{title:g.default.I18n.getText("bitbucket.web.watch.default.error.409.title"),fallbackUrl:!1,shouldReload:!0})}}});b.done(function(){x.default.setIsWatching(a.watchState);
y.default.trigger(a.watchState?"bitbucket.internal.web.watch-button.added":"bitbucket.internal.web.watch-button.removed",null,a)});return{type:p.PR_WATCH,payload:a.watchState,meta:{promise:b}}};var g=babelHelpers.interopRequireDefault(h),u=babelHelpers.interopRequireDefault(k),e=babelHelpers.interopRequireDefault(l),v=babelHelpers.interopRequireDefault(m),w=babelHelpers.interopRequireDefault(n),x=babelHelpers.interopRequireDefault(q),y=babelHelpers.interopRequireDefault(r),t={stateOnly:!1};d.exports=
c["default"]});
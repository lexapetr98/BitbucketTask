define("bitbucket/internal/feature/pull-request/list/pull-request-list-analytics","module exports jquery lodash bitbucket/util/state bitbucket/internal/util/events".split(" "),function(m,h,g,n,p,q){function r(a){(0,f.default)(a).on("click",function(){c.default.trigger("bitbucket.internal.ui.pullRequestList.createAction.clicked",null,{repositoryId:d})})}function t(){var a=["SUCCESSFUL","FAILED","INPROGRESS","NONE"];(0,f.default)(document).on("click","#bitbucket-pull-request-table .build-status-pr-list-col-value .build-icon",
function(){var e=(0,f.default)(this),b=e.attr("data-build-status");l.default.includes(a,b)&&(e=e.closest("tr").attr("data-pull-request-id"),c.default.trigger("bitbucket.internal.ui.pullRequestList.buildStatus.clicked",null,{buildStatus:b,pullRequestId:e,repositoryId:d}))})}function u(){(0,f.default)(document).on("click","#empty-list-create-pr-button",function(a){c.default.trigger("bitbucket.internal.ui.pullRequestList.empty.create.clicked",null,{repositoryId:d,page:"pull-request-intro"})});(0,f.default)(document).on("click",
".empty-banner-content a",function(a){c.default.trigger("bitbucket.internal.ui.pullRequestList.empty.create.clicked",null,{repositoryId:d,page:"no-open-prs"})});(0,f.default)(document).on("click","#empty-list-help-button",function(a){c.default.trigger("bitbucket.internal.ui.pullRequestList.empty.help.clicked",null,{repositoryId:d,page:"pull-request-intro"})});(0,f.default)(document).on("click","#reset-filters",function(a){c.default.trigger("bitbucket.internal.ui.pullRequestList.empty.viewOpen.clicked",
null,{repositoryId:d,page:"no-filtered-prs"})})}function v(){var a=Date.now();(0,f.default)(document).on("click",".pull-requests-table .pull-request-title",function(b){var e=(0,f.default)(this).closest("tr"),g=e.find(".summary");b=g.attr("data-pull-request-id");g=g.attr("data-username");var h=0<e.find('.reviewers .user-avatar[data-username\x3d"'+k+'"]').length;e=e.find(".build-status-pr-list-col-value .build-icon").attr("data-build-status");c.default.trigger("bitbucket.internal.ui.pullRequestList.row.clicked",
null,{authorIsSelf:g===k,buildStatus:e,isReviewer:h,pullRequestId:b,repositoryId:d,timeSincePageLoaded:Date.now()-a})})}Object.defineProperty(h,"__esModule",{value:!0});var f=babelHelpers.interopRequireDefault(g),l=babelHelpers.interopRequireDefault(n);g=babelHelpers.interopRequireDefault(p);var c=babelHelpers.interopRequireDefault(q),d=g.default.getRepository().id,k=g.default.getCurrentUser().name,b;h.default={init:function(a){var e=(0,f.default)("#list-create-pr-button");b=a.filterParams;r(e);t();
u();v();(0,f.default)(document).ready(function(){c.default.trigger("bitbucket.internal.ui.pullRequestList.viewed",null,{authorIsSelf:a.filterParams.author_id===k,filteredByAuthor:null!=a.filterParams.author_id,filteredByReviewer:"true"===a.filterParams.reviewer_self,filteredByTarget:null!=a.filterParams.target_ref_id,repositoryId:d})})},onFilterChanged:function(a){l.default.isObject(b)||(b=a);a.state&&b.state!==a.state&&c.default.trigger("bitbucket.internal.ui.pullRequestList.filteredBy.state",null,
{repositoryId:d,state:a.state});a.author_id&&b.author_id!==a.author_id&&c.default.trigger("bitbucket.internal.ui.pullRequestList.filteredBy.author",null,{repositoryId:d,authorIsSelf:a.author_id===k});a.target_ref_id&&b.target_ref_id!==a.target_ref_id&&c.default.trigger("bitbucket.internal.ui.pullRequestList.filteredBy.target",null,{repositoryId:d});a.reviewer_self&&b.reviewer_self!==a.reviewer_self&&c.default.trigger("bitbucket.internal.ui.pullRequestList.filteredBy.reviewer",null,{repositoryId:d});
b=a},onPaginate:function(a){c.default.trigger("bitbucket.internal.ui.nav.pagination",null,{context:"pull-request-list",page:a.page})}};m.exports=h["default"]});
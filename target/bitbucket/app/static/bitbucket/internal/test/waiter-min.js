define("bitbucket/internal/test/waiter",["module","exports","jquery","lodash","bitbucket/internal/util/promise"],function(d,a,f,g,h){Object.defineProperty(a,"__esModule",{value:!0});var k=babelHelpers.interopRequireDefault(f),l=babelHelpers.interopRequireDefault(g),e=babelHelpers.interopRequireDefault(h);a.default=function(c){function a(b){var a=k.default.Deferred();b.initialWait?setTimeout(a.resolve.bind(a),b.initialWait):a.resolve();return a.promise().then(e.default.waitFor.bind(e.default,l.default.pick(b,
["predicate","timeout","interval"]))).then(c.ok.bind(c,!0,b.message)).fail(c.ok.bind(c,!1,b.message))}var d=c.async();return{waitFor:a,thenWaitFor:function(b){return a.bind(null,b)},resume:d}};d.exports=a["default"]});
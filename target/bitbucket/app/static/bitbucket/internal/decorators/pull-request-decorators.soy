{namespace bitbucket.decorators.pullrequest}

/**
 * @param title The window title
 * @param repository repository object
 * @param pullRequest pullRequest object
 * @param body The plugin html content body
 * @param properties meta properties
 * @param? dataAttributes
 * @param maxChanges
 * @param mergeTimeout
 */
{template .view}
    {webResourceManager_requireResourcesForContext('bitbucket.page.pullRequest.view')}
    {call bitbucket.internal.layout.pullRequest}
        {param windowTitle : $title /}
        {param repository: $repository /}
        {param pullRequest: $pullRequest /}
        {param activeTab: $properties['meta.activeTab'] /}
        {param content: $body /}
        {param dataAttributes: $dataAttributes /}
        {param maxChanges : $maxChanges /}
        {param mergeTimeout: $mergeTimeout /}
        {param canDelete: canDeletePullRequest($pullRequest) /}
        {param hasRepoWrite: hasRepoWrite($repository) /}
        {param hasSourceRepoWrite: hasRepoWrite($pullRequest.fromRef.repository) /}
        {param hasSourceRepoRead: hasRepoRead($pullRequest.fromRef.repository) /}
    {/call}
{/template}

define("bitbucket/internal/bbui/widget/widget",["module","exports","lodash"],function(k,g,f){function h(d,a){var b=Object.getOwnPropertyNames(d).filter(function(a){if(e.default.includes(l,a))return!1;a=Object.getOwnPropertyDescriptor(d,a);return e.default.isFunction(a.value)}),c=Object.getPrototypeOf(d);return c.isPrototypeOf(a)?b:e.default.uniq(b.concat(h(c,a)))}Object.defineProperty(g,"__esModule",{value:!0});var e=babelHelpers.interopRequireDefault(f);f=function(){function d(a){babelHelpers.classCallCheck(this,
d);e.default.bindAll(this,h(this,d));a&&(this.options=e.default.assign({},this.constructor.defaults,a))}babelHelpers.createClass(d,[{key:"_getListeners",value:function(a){this._listeners||(this._listeners={});this._listeners[a]||(this._listeners[a]=[]);return this._listeners[a]}},{key:"on",value:function(a,b){a=this._getListeners(a);e.default.includes(a,b)||a.push(b);return this}},{key:"off",value:function(a,b){a=this._getListeners(a);for(var c=a.length;c--;)a[c]!==b&&a[c]._handler!==b||a.splice(c,
1);return this}},{key:"once",value:function(a,b){var c=this.off.bind(this,a,b);c._handler=b;this.on(a,b);this.on(a,c);return this}},{key:"trigger",value:function(a){for(var b=this,c=arguments.length,d=Array(1<c?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];this._getListeners(a).slice().forEach(function(a){try{a.apply(b,d)}catch(m){e.default.defer(function(){throw m;})}});return this}},{key:"_addDestroyable",value:function(a){this._destroyables||(this._destroyables=[]);e.default.isFunction(a)&&(a={destroy:a});
if(!e.default.isFunction(a.destroy))throw Error("Argument is not destroyable");this._destroyables.push(a);return this}},{key:"destroy",value:function(){this._destroyables&&(e.default.invokeMap(this._destroyables,"destroy"),this._destroyables=null);this.trigger("destroy");this._listeners&&(this._listeners=null)}},{key:"options",get:function(){return this._options},set:function(a){this._options=a}}]);return d}();Object.defineProperty(f.prototype,"__nonEnumerable",{enumerable:!0,get:function(){throw Error("BitbucketWidget is not enumerable. Inherit using Object.create().");
}});var l=["constructor","__nonEnumerable"];g.default=f;k.exports=g["default"]});
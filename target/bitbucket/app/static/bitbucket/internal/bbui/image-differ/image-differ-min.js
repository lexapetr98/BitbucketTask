define("bitbucket/internal/bbui/image-differ/image-differ",["exports","jquery","./differ","./image-differ-toolbar"],function(a,h,k,l){Object.defineProperty(a,"__esModule",{value:!0});a.Toolbar=a.Differ=a.init=void 0;var d=babelHelpers.interopRequireDefault(h),e=babelHelpers.interopRequireDefault(k),f=babelHelpers.interopRequireDefault(l);a.init=function(a){a=(0,d.default)(a);var c=new f.default((0,d.default)(bitbucket.internal.component.imageDiffer.toolbar.main()).prependTo(a)),b=new e.default(a);
c.on("modeChanged",function(a){return b.setMode(a.newMode)});var g=new d.default.Deferred;b.init().done(function(a){c&&c.init(a);g.resolve({on:b.on.bind(b),enabledModes:a,_differ:b,_toolbar:c,destroy:function(){b.destroy();b=null;c.destroy();c=null}})});return g};a.Differ=e.default;a.Toolbar=f.default});
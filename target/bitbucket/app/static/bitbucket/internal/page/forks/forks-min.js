define("bitbucket/internal/page/forks/forks","exports @atlassian/aui react react-dom react-redux bitbucket/util/navbuilder bitbucket/util/state bitbucket/internal/bbui/aui-react/avatar bitbucket/internal/enums bitbucket/internal/feature/repository/filterable-fork-table/filterable-fork-table bitbucket/internal/feature/repository/filterable-repository-table/actions bitbucket/internal/util/analytics bitbucket/internal/widget/filterable-entity-table/entity-rest-actor bitbucket/internal/widget/filterable-entity-table/filterable-entity-table bitbucket/internal/widget/filterable-entity-table/store".split(" "),
function(d,c,p,q,r,t,u,h,v,w,x,y,l,z,A){Object.defineProperty(d,"__esModule",{value:!0});d.init=function(e,b){var c=m.default.getCurrentUser(),g=v.EntityGroups.REPOSITORIES,f=x.LOAD_REPOSITORIES,d=m.default.getRepository(),h=(0,B.default)({actors:[(0,l.loadEntitiesRestActor)({loadAction:f,urlBuilder:C,fallbackBuilder:D,responseTransformer:(0,l.searchResponseTransformer)(g)})],entityName:g,loadAction:f});g=(0,z.connectEntityTable)(g,f,E.default);F.default.render(a.default.createElement(r.Provider,
{store:h},a.default.createElement(g,{bufferPx:document.getElementById("footer").getBoundingClientRect().height,emptyState:G(c,d,b),filterable:!0,onRepoClick:function(a,e,b){k.default.add("repository-fork-list.item.clicked",{"filter.length":e.length,"fork.id":a.id,"is.own.fork":n(c,a),"origin.id":d.id,"project.id":a.project.id,"result.index":b.indexOf(a),"results.size":b.length})}})),e);(e=document.querySelector(".aui-page-header-actions .fork-repo"))&&e.addEventListener("click",function(){return k.default.add("repository-fork-list.create.clicked",
{"is.empty.state":!1})})};var a=babelHelpers.interopRequireDefault(p),F=babelHelpers.interopRequireDefault(q),f=babelHelpers.interopRequireDefault(t),m=babelHelpers.interopRequireDefault(u),E=babelHelpers.interopRequireDefault(w),k=babelHelpers.interopRequireDefault(y),B=babelHelpers.interopRequireDefault(A),n=function(a,b){b=b.project;return a&&b.key.toLowerCase()==="~"+a.name.toLowerCase()},G=function(e,b,d){return a.default.createElement("div",null,a.default.createElement("p",{dangerouslySetInnerHTML:{__html:c.I18n.getText("bitbucket.web.repository.forks.description.html",
bitbucket_help_url("bitbucket.help.forks"))}}),n(e,b)?a.default.createElement("div",{className:"forks-empty-state"},a.default.createElement("div",{className:"forks-empty-state-hero"}),a.default.createElement("h3",null,c.I18n.getText("bitbucket.web.repository.forks.empty.heading.personal")),a.default.createElement("p",null,c.I18n.getText("bitbucket.web.repository.forks.empty.description.personal"))):a.default.createElement("div",{className:"forks-empty-state"},a.default.createElement("div",{className:"forks-empty-state-hero"}),
a.default.createElement("h3",null,c.I18n.getText("bitbucket.web.repository.forks.empty.heading")),a.default.createElement("p",null,c.I18n.getText("bitbucket.web.repository.forks.empty.description")),d&&a.default.createElement("a",{className:"aui-button aui-button-primary fork-this-repository",href:f.default.project(b.project).repo(b).fork().build(),onClick:function(){return k.default.add("repository-fork-list.create.clicked",{"is.empty.state":!0})}},c.I18n.getText("bitbucket.web.repository.forks.empty.fork.button"))))},
C=function(a){a=a.filter;return f.default.rest("search").currentRepo().forks().withParams({filter:a,avatarSize:h.AvatarSize.SMALL})},D=function(){return f.default.rest().currentRepo().forks().withParams({avatarSize:h.AvatarSize.SMALL})}});
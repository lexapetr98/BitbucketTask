define("bitbucket/internal/page/commits/commits","module exports jquery react react-dom bitbucket/util/navbuilder bitbucket/internal/feature/commits/commits-table bitbucket/internal/model/revision-reference bitbucket/internal/util/events bitbucket/internal/util/feature-enabled bitbucket/internal/util/history ./commits-page-graph".split(" "),function(n,e,f,p,q,r,t,u,v,w,x,y){function h(b){var a=z.default.currentRepo().commits();b=b||c;b.isDefault()||(a=a.withParams({until:b.getId()}));g&&(a=a.withParams({merges:g}));
return a}function A(){d.bindKeyboardShortcuts();a.default.on("bitbucket.internal.widget.keyboard-shortcuts.register-contexts",function(a){a.enableContext("commits")});var b=function(){a.default.trigger("bitbucket.internal.keyboard.shortcuts.disableOpenItemHandler")},c=function(){a.default.trigger("bitbucket.internal.keyboard.shortcuts.enableOpenItemHandler")};a.default.on("bitbucket.internal.widget.branchselector.dialogShown",b);a.default.on("bitbucket.internal.widget.branchselector.dialogHidden",
c);a.default.on("bitbucket.internal.layout.branch.actions.dropdownShown",b);a.default.on("bitbucket.internal.layout.branch.actions.dropdownHidden",c)}Object.defineProperty(e,"__esModule",{value:!0});babelHelpers.interopRequireDefault(f);var B=babelHelpers.interopRequireDefault(p),C=babelHelpers.interopRequireDefault(q),z=babelHelpers.interopRequireDefault(r),D=babelHelpers.interopRequireDefault(t),k=babelHelpers.interopRequireDefault(u),a=babelHelpers.interopRequireDefault(v);f=babelHelpers.interopRequireDefault(w);
var l=babelHelpers.interopRequireDefault(x),c,d,g,m=!1;f.default.getFromProvider("commit.graph").done(function(a){return m=a});e.default={onReady:function(b,e){c=new k.default(b);g=e;d=new D.default(h,{focusFirstRow:!0});d.init();m&&C.default.render(B.default.createElement(y.CommitsPageGraph,{initialRows:d.$table.find("tr.commit-row").toArray(),headerRowHeight:d.$table.find("\x3e thead \x3e tr:first").outerHeight(),rowHeight:d.$table.find("\x3e tbody \x3e tr:last").outerHeight()}),document.getElementById("commit-graph-container"));
a.default.on("bitbucket.internal.layout.branch.revisionRefChanged",function(a){c.getId()!==a.getId()&&l.default.pushState(a.toJSON(),null,h(a).build())});a.default.on("bitbucket.internal.history.changestate",function(b){if(b=b.state)c=new k.default(b),d.update(),a.default.trigger("bitbucket.internal.page.commits.revisionRefChanged",null,c)});A();l.default.initialState(c.toJSON())}};n.exports=e["default"]});
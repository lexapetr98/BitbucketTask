define("bitbucket/internal/page/admin/mailserver/mailserver","module exports @atlassian/aui jquery bitbucket/internal/util/notifications/notifications bitbucket/internal/widget/confirm-dialog/confirm-dialog".split(" "),function(g,d,h,k,l,m){Object.defineProperty(d,"__esModule",{value:!0});var b=babelHelpers.interopRequireDefault(h),a=babelHelpers.interopRequireDefault(k),n=babelHelpers.interopRequireDefault(l),u=babelHelpers.interopRequireDefault(m);d.default={onReady:function(d,g,h,k,c,l){n.default.showFlashes();
var p=(0,a.default)(c);p.click(function(){var q=(0,a.default)(this),b=(0,a.default)("\x3cdiv class\x3d'spinner'\x3e\x3c/div\x3e");q.nextAll().remove();q.after(b);b.spin()});(0,a.default)(l).keypress(function(b){13===b.which&&(b.preventDefault(),p.click())});c=bitbucket.internal.widget.paragraph({text:b.default.I18n.getText("bitbucket.web.mailserver.delete.confirm")});c=new u.default({id:"delete-mail-sever-config-dialog",titleText:b.default.I18n.getText("bitbucket.web.mailserver.delete.config"),titleClass:"warning-header",
panelContent:c,submitText:b.default.I18n.getText("bitbucket.web.button.delete"),focusSelector:".cancel-button"},{type:"DELETE"});c.attachTo(k);c.addConfirmListener(function(a){a.done(function(a){n.default.addFlash(b.default.I18n.getText("bitbucket.web.config.mail.deleted"),{type:"info"});window.location.reload()})});var e=(0,a.default)(h),f=(0,a.default)(g);(0,a.default)(d).on("change",function(){"SMTP"===this.value?(f.prop({disabled:!1}),e.prop({disabled:!1})):(f.prop({checked:!0,disabled:!0}),e.prop({checked:!0,
disabled:!0}))});f.on("change",function(){this.checked||e.prop({checked:!1})});e.on("change",function(){this.checked&&f.prop({checked:!0})});var r=(0,a.default)("#password"),t=document.getElementById("passwordChanged"),m=document.getElementById("passwordSet");r.on("blur focus",function(a){var c=r.get(0);"true"===m.value&&"false"===t.value&&c.setAttribute("value","focus"===a.type?b.default.I18n.getText("bitbucket.web.config.mail.password.empty"):b.default.I18n.getText("bitbucket.web.config.mail.password.set"))}).on("input",
function(){return t.setAttribute("value","true")})}};g.exports=d["default"]});
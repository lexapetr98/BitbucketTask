define("bitbucket/internal/page/project/permissions/project-permissions","module exports jquery bitbucket/util/navbuilder bitbucket/internal/feature/permission/permission-table/permission-table bitbucket/internal/page/project/permissions/project-permissions-model bitbucket/internal/widget/submit-spinner/submit-spinner".split(" "),function(n,c,p,q,r,t,u){Object.defineProperty(c,"__esModule",{value:!0});var d=babelHelpers.interopRequireDefault(p),v=babelHelpers.interopRequireDefault(q),w=babelHelpers.interopRequireDefault(r),
x=babelHelpers.interopRequireDefault(t),m=babelHelpers.interopRequireDefault(u);c.default={onReady:function(c){function e(a){var b='input:radio[name\x3d"licensed-users-permissions"]';a&&(b+='[value\x3d"'+a+'"]');return(0,d.default)(b)}var k=e("none"),l=(0,d.default)("#public-access-allowed"),h,f,g=new x.default({grantedDefaultPermission:(0,d.default)("#licensed-users-permissions").attr("data-granted-permission"),publicAccess:!!l.prop("checked")});g.on("change:grantedDefaultPermission",function(a){e(a.getGrantedDefaultPermission()).prop("checked",
!0)});g.on("change:publicAccess",function(a){e(a.getEffectiveDefaultPermission()).prop("checked",!0);k.prop("disabled",a.getPublicAccess());l.prop("checked",a.getPublicAccess())});e().each(function(){var a,b;(0,d.default)(this).click(function(){a||(a=new m.default((0,d.default)(this).next("label")));b&&b.abort();a.show();var c=e().filter(":checked").val();b=g.saveDefaultPermission(c);b.always(function(){a.hide();b=null})})});l.click(function(){h||(h=new m.default((0,d.default)(this).next("label")));
f&&f.abort();h.show();f=g.savePublicAccess(this.checked);f.always(function(){h.hide();f=null})});k.next("label").tooltip({gravity:"sw",title:function(){return g.getPublicAccess()?k.parent().attr("data-disabled-title"):""}});w.default.initialise(v.default.currentProject().permissions(),c,"PROJECT_ADMIN")}};n.exports=c["default"]});
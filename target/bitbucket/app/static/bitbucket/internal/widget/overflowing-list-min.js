define("bitbucket/internal/widget/overflowing-list",["module","exports","jquery"],function(p,h,t){function g(a,b,c){this._$container=(0,d.default)(a);this._opts=d.default.extend({overflowMenuId:this._$container.attr("data-overflow-menu-id")},g.defaults,c);this._items=Array.prototype.slice.call(b)}function q(a,b){a.find("\x3e .aui-dropdown2-trigger .aui-badge").text(b)}function r(a,b,c){(0,d.default)(aui.dropdown2.trigger({menu:{id:c},content:'\x3cdiv class\x3d"extras-dropdown-trigger"\x3e'+aui.badges.badge({text:"?"})+
"\x3c/div\x3e"}).appendTo(a));return(0,d.default)(aui.dropdown2.contents({id:c,extraClasses:b,content:'\x3cul class\x3d"aui-list-truncate"\x3e\x3c/ul\x3e'})).appendTo(a).children("ul")}Object.defineProperty(h,"__esModule",{value:!0});var d=babelHelpers.interopRequireDefault(t);g.defaults={maxOpen:5,itemSelector:void 0,overflowMenuClass:"aui-style-default aui-dropdown2-tailed",getItemHtml:function(a,b){return"\x3cspan\x3e"+("string"===typeof a?a:JSON.stringify(a))+"\x3c/span\x3e"},compareFn:function(a,
b){return-1}};g.prototype.addItem=function(a){var b=this._opts.maxOpen,c=this._opts.compareFn,k=this._opts.getItemHtml,g=this._opts.overflowMenuClass,n=this._opts.overflowMenuId,e=this._$container;var l=n?(0,d.default)("#"+n+" \x3e ul"):e.children(".aui-dropdown2:last \x3e ul");var m=l.find("li").children(this._opts.itemSelector);m=e.children(this._opts.itemSelector).not(".aui-dropdown2-trigger, .aui-dropdown2").add(m);var h=!1,f,p=this._items.length;for(f=0;f<p;f++)if(0>c(a,this._items[f])){f>=b?
(c=(0,d.default)(k(a,!0)),c.wrap("\x3cli/\x3e").parent().insertBefore(m.eq(f).parent()),q(e,this._items.length+1-b)):(c=(0,d.default)(k(a,!1)),c.insertBefore(m.eq(f)).hide().fadeIn("fast"),this._items.length>=b&&(m.eq(b-1).remove(),(l.length?l:r(e,g,n)).prepend((0,d.default)("\x3cli/\x3e").append(k(this._items[b-1],!0))),q(e,this._items.length+1-b)));this._items.splice(f,0,a);h=!0;break}h||(this._items.length>=b?((l.length?l:r(e,g,n)).append((0,d.default)(k(a,!0)).wrap("\x3cli/\x3e").parent()),q(e,
this._items.length+1-b)):(c=(0,d.default)(k(a,!1)),c.appendTo(e).hide().fadeIn("fast")),this._items.push(a))};h.default=g;p.exports=h["default"]});
define("bitbucket/internal/widget/inline-error-dialog/inline-error-dialog",["module","exports","jquery","lodash","bitbucket/internal/util/deprecation"],function(g,d,e,h,k){function a(a,b){this.init.apply(this,arguments)}Object.defineProperty(d,"__esModule",{value:!0});var f=babelHelpers.interopRequireDefault(e),c=babelHelpers.interopRequireDefault(h);e=babelHelpers.interopRequireDefault(k);a.prototype.init=function(a,b){this.errors=[];this.options=f.default.extend({persistent:!0},b);this._destroyables=
[];c.default.bindAll(this,"hide","show","refresh","add","reset","destroy");b=babelHelpers.extends({},b,{id:c.default.uniqueId("inline-error-dialog-"),content:""});this._$inlineDialog=(0,f.default)(aui.inlineDialog2.inlineDialog2(b));this._$inlineDialog.appendTo(document.body).on("click",".dismiss-button",this.hide);this._inlineDialog=document.getElementById(b.id);(0,f.default)(a).attr({"aria-controls":b.id})};a.prototype.hide=function(){this._inlineDialog.open=!1;this.reset()};a.prototype.show=function(){this._$inlineDialog.find(".aui-inline-dialog-contents").html(bitbucket.internal.widget.inlineErrorDialog.contents({title:c.default.isFunction(this.options.title)?
this.options.title(this.errors):this.options.title,subtitle:c.default.isFunction(this.options.subtitle)?this.options.subtitle(this.errors):this.options.subtitle,errors:this.errors,persistent:this.options.persistent})).addClass("inline-error-contents");this._inlineDialog.open=!0};a.prototype.refresh=e.default.fn(function(){},"This dialog now automatically refreshes because it uses AUI dialog2",null,"5.7","6.0");a.prototype.add=function(a){this.errors.push(a)};a.prototype.reset=function(){this.errors.length=
0};a.prototype.destroy=function(){this.errors.length=0;c.default.invokeMap(this._destroyables,"destroy");this._$inlineDialog.remove()};d.default=a;g.exports=d["default"]});
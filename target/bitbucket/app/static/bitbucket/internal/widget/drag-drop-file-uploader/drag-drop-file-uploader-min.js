define("bitbucket/internal/widget/drag-drop-file-uploader/drag-drop-file-uploader","module exports jquery lodash bitbucket/internal/util/events bitbucket/internal/widget/client-file-handlers/client-file-uploader bitbucket/internal/widget/drag-drop-file-target/drag-drop-file-target bitbucket/internal/widget/faux-upload-field/faux-upload-field bitbucket/internal/widget/paste-image-target/paste-image-target".split(" "),function(h,d,e,k,l,m,n,p,q){function a(c,b){if(!a.isSupported())throw Error("DragDropUploader requires ClientFileUploader support");
this.init.apply(this,arguments)}Object.defineProperty(d,"__esModule",{value:!0});var f=babelHelpers.interopRequireDefault(e),g=babelHelpers.interopRequireDefault(k);e=babelHelpers.interopRequireDefault(l);var c=babelHelpers.interopRequireDefault(m),r=babelHelpers.interopRequireDefault(n),t=babelHelpers.interopRequireDefault(p),u=babelHelpers.interopRequireDefault(q);a.typeFilters=c.default.typeFilters;a.isSupported=c.default.isSupported;e.default.addLocalEventMixin(a.prototype);a.prototype.defaults=
{url:null,fieldName:"file",uploadButton:void 0,fileTypeFilter:void 0,fileCountLimit:void 0,fileSizeLimit:void 0,pasteUpload:!0};a.prototype.init=function(a,b){this.$target=(0,f.default)(a);a=g.default.pick(c.default.prototype.defaults,"fileTypeFilter","fileCountLimit","fileSizeLimit");this.options=f.default.extend({},this.defaults,a,b);this._destroyables=[];b=new c.default({url:this.options.url,fieldName:this.options.fieldName,fileSizeLimit:this.options.fileSizeLimit});this._destroyables.push(this.retriggerFrom(b,
"filesSelected","validFiles","invalidFiles","uploadStarted"));this._destroyables.push(b);this._destroyables.push(new r.default(this.$target,{clientFileHandler:b}));this.options.uploadButton&&this._destroyables.push(new t.default((0,f.default)(this.options.uploadButton),{clientFileHandler:b,allowMultiple:1<this.options.fileCountLimit}));this.options.pasteUpload&&this._destroyables.push(new u.default(this.$target,b))};a.prototype.destroy=function(){g.default.invokeMap(this._destroyables,"destroy")};
d.default=a;h.exports=d["default"]});
define("bitbucket/internal/widget/drag-drop-file-target/drag-drop-file-target",["module","exports","jquery","lodash","bitbucket/internal/util/events"],function(f,c,g,h,k){function b(a,b){return this.init.apply(this,arguments)}Object.defineProperty(c,"__esModule",{value:!0});var d=babelHelpers.interopRequireDefault(g),e=babelHelpers.interopRequireDefault(h),l=babelHelpers.interopRequireDefault(k);b.prototype.getDefaults=function(){return{activeDropTargetClass:"active-drop-target",uploadPrompt:"Drag a file here to upload",
clientFileHandler:null}};b.prototype.init=function(a,b){e.default.bindAll(this,"onDragOver","onDragEnd","onDrop");this.$target=(0,d.default)(a);this.options=d.default.extend({},this.getDefaults(),b);this.$target.attr("data-upload-prompt",this.options.uploadPrompt);this._destroyables=[];this._destroyables.push(l.default.chainWith(this.$target).on("dragover",this.onDragOver).on("dragleave",this.onDragEnd).on("dragend",this.onDragEnd).on("drop",this.onDrop))};b.prototype.onDragOver=function(a){a.preventDefault();
this.$target.addClass(this.options.activeDropTargetClass)};b.prototype.onDragEnd=function(a){a.preventDefault();this.$target.removeClass(this.options.activeDropTargetClass)};b.prototype.onDrop=function(a){a.preventDefault();a.originalEvent.preventDefault();this.$target.removeClass(this.options.activeDropTargetClass);this.options.clientFileHandler&&this.options.clientFileHandler.handleFiles(a.originalEvent.dataTransfer.files,a.originalEvent.target)};b.prototype.destroy=function(){this.$target.removeAttr("data-upload-prompt");
this.$target.removeClass(this.options.activeDropTargetClass);e.default.invokeMap(this._destroyables,"destroy")};c.default=b;f.exports=c["default"]});
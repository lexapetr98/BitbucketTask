define("bitbucket/internal/widget/upload-interceptor/upload-interceptor",["module","exports","jquery","lodash","bitbucket/internal/util/events"],function(f,c,g,h,k){function b(a,b){this.init.apply(this,arguments)}Object.defineProperty(c,"__esModule",{value:!0});var d=babelHelpers.interopRequireDefault(g),e=babelHelpers.interopRequireDefault(h),l=babelHelpers.interopRequireDefault(k);b.prototype.init=function(a,b){e.default.bindAll(this,"onSelectFile");this.$el=(0,d.default)(a);this.clientFileHandler=
b;this._destroyables=[];this._destroyables.push(l.default.chainWith(this.$el).on("change",this.onSelectFile))};b.prototype.onSelectFile=function(a){a=a.target;a.files&&a.files.length&&this.clientFileHandler&&(this.clientFileHandler.handleFiles(a.files,a),(0,d.default)(a).wrap("\x3cform\x3e").parent("form").trigger("reset").end().unwrap())};b.prototype.destroy=function(){e.default.invokeMap(this._destroyables,"destroy")};c.default=b;f.exports=c["default"]});
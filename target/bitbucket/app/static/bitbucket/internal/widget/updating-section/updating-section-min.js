define("bitbucket/internal/widget/updating-section/updating-section",["module","exports","jquery","lodash"],function(e,c,f,g){function b(a,b,d,c){this.init.apply(this,arguments)}Object.defineProperty(c,"__esModule",{value:!0});var h=babelHelpers.interopRequireDefault(f),d=babelHelpers.interopRequireDefault(g);b.defaults={context:{},isVisibleProperty:null};b.prototype.init=function(a,c,e,f){this._$el=(0,h.default)(a);this._template=e;this._options=d.default.assign({},b.defaults,f);this._$placeholder=
this._$el.find(".replacement-placeholder");this._currentValue={};d.default.bindAll(this,"updateValue","updateVisibility");this._destroyCallbacks=[c.onValue(this.updateValue)];this._options.isVisibleProperty&&this._destroyCallbacks.push(this._options.isVisibleProperty.onValue(this.updateVisibility))};b.prototype.updateVisibility=function(a){this._$el.toggleClass("hidden",!a)};b.prototype.updateValue=function(a){a=d.default.assign({},a,this._options.context);d.default.isEqual(a,this._currentValue)||
(this._currentValue=a,a=this._template(a),this._$placeholder.stop().fadeOut(0).html(a).fadeIn())};b.prototype.destroy=function(){this._destroyCallbacks.forEach(Function.prototype.call,Function.prototype.call)};c.default=b;e.exports=c["default"]});
define("bitbucket/internal/util/scroll",["module","exports","jquery","lodash","bitbucket/internal/util/feature-detect"],function(l,f,m,h,n){function k(b,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!b)return d;var c=b.offsetParent;return c===a||c===document.body||c===document.documentElement?d+b.offsetTop:k(c,a,d+b.offsetTop)}Object.defineProperty(f,"__esModule",{value:!0});var g=babelHelpers.interopRequireDefault(m),p=babelHelpers.interopRequireDefault(n),q={waitForImages:!1,
cancelIfScrolled:!1,duration:400,getScrollPadding:function(){return document.documentElement.clientHeight/4}},r=function(b){if(b=(0,h.last)(b.querySelectorAll(":hover"))){var a=b.style.display;b.style.display="none";b.offsetHeight;b.style.display=a}};f.default={centerElementInScrollContainer:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window,d=k(b,a)-((a.clientHeight||a.innerHeight)-b.getBoundingClientRect().height)/2;a.scrollTo?a.scrollTo(0,d):a.scrollTop=d},disableHoverUntilMouseMove:function(b){if("none"!==
b.style.pointerEvents){var a=b.style.pointerEvents;b.style.pointerEvents="none";r(b);(0,g.default)(window).one("mousemove",function(){b.style.pointerEvents=a})}},scrollTo:function(b,a){function d(){if(!e){var a=b.offset();if(a){a=a.top;var d=c.getScrollPadding(),f=c.duration;(0,g.default)("html, body").animate({scrollTop:Math.max(0,a-d)},f)}}}var c=g.default.extend({},q,a),e=!1;if(c.cancelIfScrolled)(0,g.default)(document).one("scroll",function(){e=!0});c.waitForImages?(0,g.default)(document).imagesLoaded(d):
d()},fakeScroll:function(b,a){var d=p.default.cssTransform(),c={left:0,top:0},e=-1;a&&!0===a.withDocument&&(e=1);switch(d){case "msTransform":a=function(a){b.style[d]=null===a?"":"translate("+Math.round(a.left)*e+"px, "+Math.round(a.top)*e+"px)"};break;case void 0:a=function(a){b.style.left=null===a?"":Math.round(a.left)*e;b.style.top=null===a?"":Math.round(a.top)*e};break;default:a=function(a){b.style[d]=null===a?"":"translate3d("+Math.round(a.left)*e+"px, "+Math.round(a.top)*e+"px, 0)"}}return(0,
h.flow)(function(a,b){c.left=null==a?c.left:a;c.top=null==b?c.top:b;return 0===c.left&&0===c.top?null:c},a)}};l.exports=f["default"]});
define("bitbucket/internal/util/analytics-helper/analytics-helper-ui-bindings","jquery lodash bitbucket/util/navbuilder bitbucket/util/state bitbucket/internal/util/analytics-helper/analytics-helper bitbucket/internal/util/events bitbucket/internal/util/html".split(" "),function(l,n,p,q,r,t,u){function v(b){if(b.on)k.default.on(b.on,function(a){e(b.callback.call(this,a))})}function w(b){b.container.on(b.event||"click",b.selector||"a",function(d){if(b.eventName)e(b.eventName);else{var f=(0,a.default)(this),
g=this;c.default.forEach(b.eventMap,function(a,b){f.is(b)&&(a=c.default.isFunction(a)?a.call(g,d):a)&&e(a)})}})}function e(a){a&&(c.default.isString(a)&&(a={eventName:a}),k.default.trigger(x.default.prefixEventName(a.eventName),null,a.data))}var a=babelHelpers.interopRequireDefault(l),c=babelHelpers.interopRequireDefault(n),m=babelHelpers.interopRequireDefault(p),d=babelHelpers.interopRequireDefault(q),x=babelHelpers.interopRequireDefault(r),k=babelHelpers.interopRequireDefault(t),y=babelHelpers.interopRequireDefault(u);
(0,a.default)(document).ready(function(){var b=(0,a.default)(document),e=(0,a.default)("#header"),f=(0,a.default)("#app-switcher"),g=(0,a.default)(y.default.sanitizeId("#com.atlassian.bitbucket.server.bitbucket-server-web-fragments-help-menu")),c=(0,a.default)("#user-dropdown-menu"),k=(0,a.default)("#inbox-trigger"),l=(0,a.default)(".inbox-menu");[{container:e,eventMap:{"#logo a":"nav.logo.clicked",".projects-link":"nav.projects.clicked",".admin-link":"nav.globalsettings.clicked"}},{container:f,selector:f,
event:"aui-dropdown2-show",eventName:"applinks.menu.opened"},{container:f,eventName:"applinks.menu.clicked"},{container:g,selector:g,event:"aui-dropdown2-show",eventName:"nav.help.opened"},{container:g,eventMap:{a:function(){return{eventName:"nav.help.item.clicked",data:{webItemKey:(0,a.default)(this).attr("data-web-item-key")}}}}},{container:c,selector:c,event:"aui-dropdown2-show",eventName:"nav.profile.opened"},{container:c,eventMap:{a:function(){return{eventName:"nav.profile.item.clicked",data:{webItemKey:(0,
a.default)(this).attr("data-web-item-key")}}}}},{container:l,selector:k,eventMap:{a:function(){return{eventName:"nav.inbox.opened",data:{count:(0,a.default)(this).find(".aui-badge").text()}}}}},{container:b,selector:"#inline-dialog-inbox-pull-requests-content a",eventMap:{".menu-item a":function(){var b=(0,a.default)(this).attr("href"),h=(0,a.default)(b).find("tr.prNeedsWork").length;return{eventName:"nav.inbox.tab.selected",data:{name:"#inbox-pull-request-reviewer"===b?"reviewing":"created",reviewed:h,
unreviewed:(0,a.default)(b).find("tr").length-h}}},"a.pull-request-title":function(){var b=(0,a.default)(this),h=b.closest(".tabs-pane").is("#inbox-pull-request-created");return{eventName:"nav.inbox.item.clicked",data:{isAuthor:h,status:h?null:b.closest("tr").is(".prNeedsWork")?"NEEDS_WORK":"UNAPPROVED"}}}}},{container:(0,a.default)("#footer ul"),eventMap:{a:function(){return{eventName:"nav.footer.item.clicked",data:{linkId:(0,a.default)(this).closest("li").attr("data-key")}}}}}].forEach(w);[{on:"bitbucket.internal.feature.fileContent.diffViewDataLoaded",
callback:function(){if(!d.default.getPullRequest()||window.location.pathname!==m.default.currentPullRequest().overview().build()){if(d.default.getPullRequest())var a="pullrequest";else d.default.getCommit()?a="commit":d.default.getRef()?a="source-view":(a="create-pullrequest",window.location.pathname===m.default.currentRepo().compare().diff().build()&&(a="compare-branch"));var b=require("bitbucket/internal/feature/file-content/diff-view-options",null).getOptions();return{eventName:"diff-view.viewed",
data:{ignoreWhitespace:b.ignoreWhitespace,showWhitespaceCharacters:b.showWhitespaceCharacters,hideComments:b.hideComments,hideEdiff:b.hideEdiff,diffType:b.diffType,source:a}}}}},{on:"bitbucket.internal.feature.branch-creation.branchCreated",callback:function(){return{eventName:"branch.created"}}},{on:"bitbucket.internal.page.branches.revisionRefRemoved",callback:function(){return{eventName:"branch.deleted"}}}].forEach(v)})});
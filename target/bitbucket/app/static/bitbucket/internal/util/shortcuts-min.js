define("bitbucket/internal/util/shortcuts","module exports @atlassian/aui baconjs bitbucket/util/events bitbucket/internal/util/navigator bitbucket/internal/util/shortcuts/create-keyboard-shortcuts-handler bitbucket/internal/widget/keyboard-shortcuts/keyboard-shortcuts".split(" "),function(m,f,g,n,p,q,r,t){function l(b){var a=d[b];a.lazy.whenIType&&a.lazy.whenIType.unbind();var c=u.default.whenIType(a.lazy.keys);a.lazy.whenIType=c;c.execute(a._sink);c.execute(h.default.fireKeyboardShocutAnalyticsEvent.bind(null,
a.lazy.analyticsContext,b))}function k(b){d.hasOwnProperty(b)||(d[b]={analyticsBound:!1,lazy:{keys:null,whenIType:null,analyticsContext:null},baconSink:function(a){this._sink&&this._sink(a)},_sink:null,stream:v.default.fromBinder(function(a){var c=d[b];c._sink=a;c.lazy.keys&&l(b);return function(){c._sink=null;c.lazy.whenIType&&c.lazy.whenIType.unbind()}})});return d[b]}Object.defineProperty(f,"__esModule",{value:!0});var u=babelHelpers.interopRequireDefault(g),v=babelHelpers.interopRequireDefault(n),
w=babelHelpers.interopRequireDefault(p);g=babelHelpers.interopRequireDefault(r);var h=babelHelpers.interopRequireDefault(t),d={};f.default={createKeyboardShortcutsHandler:g.default,registerLazy:function(b,a,c){(0,q.isMac)()&&(c=c.replace(/ctrl/i,"meta"));a.unbind();a=k(b);a.lazy.keys=c;a.lazy.analyticsContext=h.default.getEnablingContext();a._sink&&l(b)},setup:function(b,a,c){var e=k(b);a.execute(e.baconSink.bind(e));e.analyticsBound||(e.analyticsBound=!0,h.default.bindKeyboardShortcutAnalytics(b,
d[b].stream));w.default.trigger("bitbucket.internal.keyboard.shortcuts."+b,a,c)},bind:function(b,a){return k(b).stream.onValue(a)}};m.exports=f["default"]});
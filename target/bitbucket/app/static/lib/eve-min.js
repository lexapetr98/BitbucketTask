(function(u){var p=/[\.\/]/,v=function(){},w=function(a,d){return a-d},t,h,q={n:{}},e=function(a,d){a=String(a);var b=h,c=Array.prototype.slice.call(arguments,2),r=e.listeners(a),f=0,l=[],k={},g=[],q=t;t=a;for(var m=h=0,p=r.length;m<p;m++)"zIndex"in r[m]&&(l.push(r[m].zIndex),0>r[m].zIndex&&(k[r[m].zIndex]=r[m]));for(l.sort(w);0>l[f];){var n=k[l[f++]];g.push(n.apply(d,c));if(h)return h=b,g}for(m=0;m<p;m++)if(n=r[m],"zIndex"in n)if(n.zIndex==l[f]){g.push(n.apply(d,c));if(h)break;do if(f++,(n=k[l[f]])&&
g.push(n.apply(d,c)),h)break;while(n)}else k[n.zIndex]=n;else if(g.push(n.apply(d,c)),h)break;h=b;t=q;return g.length?g:null};e._events=q;e.listeners=function(a){a=a.split(p);var d=q,b,c,e,f=[d],l=[];var k=0;for(c=a.length;k<c;k++){var g=[];var h=0;for(e=f.length;h<e;h++){d=f[h].n;var m=[d[a[k]],d["*"]];for(b=2;b--;)if(d=m[b])g.push(d),l=l.concat(d.f||[])}f=g}return l};e.on=function(a,d){a=String(a);if("function"!=typeof d)return function(){};a=a.split(p);for(var b=q,c=0,e=a.length;c<e;c++)b=b.n,
b=b.hasOwnProperty(a[c])&&b[a[c]]||(b[a[c]]={n:{}});b.f=b.f||[];c=0;for(e=b.f.length;c<e;c++)if(b.f[c]==d)return v;b.f.push(d);return function(a){+a==+a&&(d.zIndex=+a)}};e.f=function(a){var d=[].slice.call(arguments,1);return function(){e.apply(null,[a,null].concat(d).concat([].slice.call(arguments,0)))}};e.stop=function(){h=1};e.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(t):t};e.nts=function(){return t.split(p)};e.off=e.unbind=function(a,d){if(a){var b=a.split(p),
c,h,f,l=[q];var k=0;for(h=b.length;k<h;k++)for(f=0;f<l.length;f+=g.length-2){var g=[f,1];a=l[f].n;if("*"!=b[k])a[b[k]]&&g.push(a[b[k]]);else for(c in a)a.hasOwnProperty(c)&&g.push(a[c]);l.splice.apply(l,g)}k=0;for(h=l.length;k<h;k++)for(a=l[k];a.n;){if(d){if(a.f){f=0;for(b=a.f.length;f<b;f++)if(a.f[f]==d){a.f.splice(f,1);break}!a.f.length&&delete a.f}for(c in a.n)if(a.n.hasOwnProperty(c)&&a.n[c].f){g=a.n[c].f;f=0;for(b=g.length;f<b;f++)if(g[f]==d){g.splice(f,1);break}!g.length&&delete a.n[c].f}}else for(c in delete a.f,
a.n)a.n.hasOwnProperty(c)&&a.n[c].f&&delete a.n[c].f;a=a.n}}else e._events=q={n:{}}};e.once=function(a,d){var b=function(){e.unbind(a,b);return d.apply(this,arguments)};return e.on(a,b)};e.version="0.4.2";e.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=e:"undefined"!=typeof define?define("eve",[],function(){return e}):u.eve=e})(this);